(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/updateInformation/updateInformation"],{"9a30":function(t,n,a){"use strict";a.r(n);var e=a("c1f4"),i=a("c8ac");for(var o in i)"default"!==o&&function(t){a.d(n,t,(function(){return i[t]}))}(o);a("e497");var u,s=a("f0c5"),c=Object(s["a"])(i["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],u);n["default"]=c.exports},c1f4:function(t,n,a){"use strict";var e,i=function(){var t=this,n=t.$createElement;t._self._c;t._isMounted||(t.e0=function(n){1===t.status&&t.updateInformation()})},o=[];a.d(n,"b",(function(){return i})),a.d(n,"c",(function(){return o})),a.d(n,"a",(function(){return e}))},c8ac:function(t,n,a){"use strict";a.r(n);var e=a("d448"),i=a.n(e);for(var o in e)"default"!==o&&function(t){a.d(n,t,(function(){return e[t]}))}(o);n["default"]=i.a},d448:function(t,n,a){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=i(a("4795"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,n,a,e,i,o,u){try{var s=t[o](u),c=s.value}catch(r){return void a(r)}s.done?n(c):Promise.resolve(c).then(e,i)}function u(t){return function(){var n=this,a=arguments;return new Promise((function(e,i){var u=t.apply(n,a);function s(t){o(u,e,i,s,c,"next",t)}function c(t){o(u,e,i,s,c,"throw",t)}s(void 0)}))}}var s={data:function(){return{mode:"",pl:"",map:{signature:"签名",nickname:"昵称",gender:"性别",birthday:"生日",phone:"电话",email:"邮箱",crowdName:"群名称",announcement:"群公告",crowdNickname:"群昵称"},inputData:"",crowdId:-1,status:0}},onLoad:function(t){this.mode=t.mode,this.pl="gender"===this.mode?1==t.pl?"男":"女":t.pl,t.crowdId&&(this.crowdId=t.crowdId)},methods:{backEvent:function(){t.navigateBack({delta:1})},updateInformation:function(){var n=this;return u(e.default.mark((function a(){var i;return e.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.request({method:"POST",url:n.$baseURL+"updateInformation",data:JSON.stringify({mode:n.mode,inputData:n.inputData,crowdId:n.crowdId}),header:{"Content-Type":"application/json;charset=utf-8",Authorization:"".concat(t.getStorageSync("token"))}});case 2:i=a.sent[1].data,200===i.status?(t.$emit("reloadMyInformation"),t.$emit("reloadCrowdDetail"),t.$emit("reloadContact"),t.navigateBack({delta:1}),t.showToast({title:"更新".concat(n.map[n.mode],"成功"),icon:"none"})):t.showToast({title:"更新信息异常，请重试",icon:"none"});case 4:case"end":return a.stop()}}),a)})))()},validateEvent:function(){var n=this;switch(this.mode){case"signature":t.$emit("signature"),t.$off("signature");var a=!0;""===this.inputData?this.status=0:(t.$on("signature",(function(){a=!1})),setTimeout((function(){a&&(n.status=1)}),300));break;case"crowdName":t.$emit("crowdName"),t.$off("crowdName");var e=!0;""===this.inputData?this.status=0:(t.$on("crowdName",(function(){e=!1})),setTimeout((function(){e&&(n.status=1)}),300));break;case"announcement":t.$emit("announcement"),t.$off("announcement");var i=!0;""===this.inputData?this.status=0:(t.$on("announcement",(function(){i=!1})),setTimeout((function(){i&&(n.status=1)}),300));break;case"crowdNickname":t.$emit("crowdNickname"),t.$off("crowdNickname");var o=!0;""===this.inputData?this.status=0:(t.$on("crowdNickname",(function(){o=!1})),setTimeout((function(){o&&(n.status=1)}),300));break;case"nickname":t.$emit("nickname"),t.$off("nickname");var u=!0;""===this.inputData?this.status=0:(t.$on("nickname",(function(){u=!1})),setTimeout((function(){u&&(n.status=1)}),300));break;case"gender":t.$emit("gender"),t.$off("gender");var s=!0;""===this.inputData?this.status=0:(t.$on("gender",(function(){s=!1})),setTimeout((function(){s&&("男"===n.inputData||"女"===n.inputData?n.status=1:n.status=-1)}),300));break;case"birthday":t.$emit("birthday"),t.$off("birthday");var c=!0;""===this.inputData?this.status=0:(t.$on("birthday",(function(){c=!1})),setTimeout((function(){c&&(/^\d{4}\/\d{2}\/\d{2}$/.test(n.inputData)?n.status=1:n.status=-1)}),300));break;case"phone":t.$emit("phone"),t.$off("phone");var r=!0;""===this.inputData?this.status=0:(t.$on("phone",(function(){r=!1})),setTimeout((function(){r&&(/^1[3456789]\d{9}$/.test(n.inputData)?n.status=1:n.status=-1)}),300));break;case"email":t.$emit("email"),t.$off("email");var f=!0;""===this.inputData?this.status=0:(t.$on("email",(function(){f=!1})),setTimeout((function(){f&&(/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(n.inputData)?n.status=1:n.status=-1)}),300));break;default:break}}}};n.default=s}).call(this,a("543d")["default"])},d9fc:function(t,n,a){"use strict";(function(t){a("ff24");e(a("66fd"));var n=e(a("9a30"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,a("543d")["createPage"])},e497:function(t,n,a){"use strict";var e=a("fd67"),i=a.n(e);i.a},fd67:function(t,n,a){}},[["d9fc","common/runtime","common/vendor"]]]);